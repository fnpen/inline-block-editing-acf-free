(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,n=window.wp.blocks,a=window.jQuery;var l=e.n(a);const o=window.React,r={};acf.addAction("render_block_preview",((e,t)=>{e.find("[data-inline-editing]").each(((e,t)=>{var n;const a=l()(t);if(a.has(".inline-editing-acf").length)return;const o=a.data(),i=a.parents("[data-block]").data("block"),c=l()("<span/>").html(a.html());c.attr("data-placeholder",null!==(n=o.placeholder)&&void 0!==n?n:"").attr("contenteditable",!0).attr("tabIndex",0).addClass("inline-editing-acf").on("keypress keydown",(e=>{if("Enter"===e.key&&e.preventDefault(),"Tab"===e.key){const t=l()("[data-inline-editing]"),n=t.index(a);let o=-1;!e.shiftKey&&t.length>n+1?o=n+1:e.shiftKey&&n>0&&(o=n-1);let r=((e,t)=>{let n;return(n=(e=l()(e)).filter(t))&&n.length?n:e.find(t)})(t.get(o),"[contenteditable]");if(o>=0&&r?.length){e.preventDefault();const t=r.get(0);r.trigger("focus");let n=window.getSelection();n.selectAllChildren(t),n.collapseToEnd()}}})).on("blur",(e=>{r[i]=!1})).on("focus",(e=>{r[i]=Date.now()})).on("change keyup paste",(e=>{r[i]=Date.now();let t=l()(e.target).html();t=t.replace(/&nbsp;|&#160;/gi," ");const n=acf.getField(o.key);n&&n.setValue(t)})),a.html(c)}))}));const i=e=>n=>{const{clientId:a}=n,l=(0,o.useMemo)((()=>r[a]>0?0:n),[n]);return(0,t.createElement)(o.Fragment,null,(0,o.useMemo)((()=>(0,t.createElement)(e,n)),[l]))},c=e=>{const t=(0,n.getBlockType)(e.name);(0,n.unregisterBlockType)(t.name);const a=t.edit;(0,n.registerBlockType)(t.name,{...t,edit:i(a)})};acf.addAction("prepare",(()=>{wp.blockEditor||(wp.blockEditor=wp.editor);const e=acf.get("blockTypes");e&&e.map(c)}))})();